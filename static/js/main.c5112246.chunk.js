(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,a,t){e.exports=t(61)},29:function(e,a,t){},33:function(e,a,t){},38:function(e,a,t){},59:function(e,a,t){},61:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(22),l=t.n(s),o=(t(29),t(7)),i=t(10),c=t(13),m=t(11),u=t(14),d=t(9),g=t(15),p=(t(31),t(33),function(e){var a;return r.a.createElement("div",null,r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"Login !")),r.a.createElement("form",{onSubmit:e.login,className:"group"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Username"),r.a.createElement("input",(a={id:"username",className:"form-control"},Object(g.a)(a,"id","username"),Object(g.a)(a,"placeholder","Enter your username"),Object(g.a)(a,"type","text"),a))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",id:"pwd",className:"form-control",placeholder:"Enter your password"})),r.a.createElement("button",{className:"btn btn-dark"},"Login"),r.a.createElement("h2",null,e.loginMsg)))}),f=function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"Register !")),r.a.createElement("form",{onSubmit:e.reg,className:"group"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Name"),r.a.createElement("input",{type:"text",id:"name",placeholder:"Enter your name",className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Username"),r.a.createElement("input",{type:"text",id:"username",placeholder:"Enter your username",className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",id:"pwd",placeholder:"Enter your password",className:"form-control"})),r.a.createElement("button",{className:"btn btn-dark"},"Submit")))},v=t(65),h=function(e){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-dark"},r.a.createElement("a",{className:"navbar-brand"},r.a.createElement(v.a,{to:"/",activeClassName:"active"},r.a.createElement("img",{src:"https://wynk.in/assets/images/logo-wht2.svg",alt:""}))),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav mr-auto"}),r.a.createElement("form",{className:"form-inline my-2 my-lg-0"},e.isUser?r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link"},r.a.createElement(v.a,{to:"/list"},"Songs List"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link"},r.a.createElement(v.a,{to:"/addSong"},"Add your song!"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link"},r.a.createElement(v.a,{to:"/playlist"},"Playlist")))):r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link"},r.a.createElement(v.a,{to:"/login"},"Login"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link"},r.a.createElement(v.a,{to:"/register"},"Register")))))))},E=t(66),b=t(62),y=(t(38),function(){return r.a.createElement("div",{id:"home"},r.a.createElement("h1",null,"Where words fail, music speaks! "))}),N=function e(a,t,n){Object(o.a)(this,e),this.name=a,this.username=t,this.password=n},k=function e(a,t){Object(o.a)(this,e),this.username=a,this.password=t},S=function e(a,t,n,r,s){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"";Object(o.a)(this,e),this.image=a,this.trackName=t,this.trackViewUrl=n,this.songUrl=r,this.artistUrl=s,this.username=l,this.likedSong=i,this.playlist=c},w=t(6),j=function(e){w.database().ref("/users/"+e.username).set(e)},O=function(e){return new Promise(function(a,t){w.database().ref("/users/"+e.username).on("value",function(e){a(e.val())})})},U=function(e){return new Promise(function(a,t){w.database().ref("/users/"+e.username).on("value",function(e){a(e.val())})})},L=function(){var e=localStorage.getItem("name");return console.log(e),new Promise(function(a,t){var n=w.database().ref("/users/"+e);console.log("object is",n),n.on("value",function(e){a(e.val())})})},P=function(e){w.database().ref("/songs/"+e.trackName).set(e)},M=function(){return new Promise(function(e,a){w.database().ref("/songs").on("value",function(a){e(a.val())})})},I=function(e){w.database().ref("/playlist/"+e.trackName).set(e)},C=function(){return new Promise(function(e,a){w.database().ref("/playlist").on("value",function(a){e(a.val())})})},x=function(e){return console.log("play song"),console.log(e.url),r.a.createElement("div",null,r.a.createElement("div",{id:"audioplayer"},r.a.createElement("audio",{src:e.url,controls:!0,id:"audio"})))},A=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).name=localStorage.getItem("name"),t.state={url:"",like:"",remove:!1},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"playSongUrl",value:function(e){this.setState({url:e})}},{key:"addToPlaylist",value:function(e){e.playlist=this.name,I(e),this.setState(Object(d.a)({},this.state,{playlist:"Song added to playlist"})),this.props.fn()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"row"},r.a.createElement("img",{src:this.props.song.image,className:"listImage",alt:""}),r.a.createElement("p",{className:"name name1"},this.props.song.trackName),r.a.createElement("p",{className:"name name2"},"Uploaded by ",this.props.song.username),r.a.createElement("button",{className:"btn btn-dark ",onClick:function(){return e.playSongUrl(e.props.song.songUrl)}},"Play song"),this.state.url?r.a.createElement(x,{url:this.state.url}):"",this.props.playsong?"":r.a.createElement("button",{className:"btn btn-dark listBtn",onClick:function(){return e.addToPlaylist(e.props.song)}},"Add to playlist"),this.state.playlist?alert("Song added to playlist"):"")}}]),a}(n.Component),R=function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"header header1"},r.a.createElement("h1",null,"Your playlist")),e.playlist?e.playlist.map(function(a,t){return r.a.createElement(A,{playsong:e.playsong,key:t,song:a})}):"")},q=function(e){return r.a.createElement("div",{className:"col song"},r.a.createElement("img",{className:"image",src:e.song.image,alt:""}),r.a.createElement("p",{className:"songName"},e.song.trackName),r.a.createElement("button",{className:"btn btn-dark dark1",onClick:function(){e.add(e.song)}},"Add this song"),r.a.createElement("a",{href:e.song.trackViewUrl,target:"_blank",className:"btn btn-dark dark1"},"More about this movie"))},D=function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"header header1"},r.a.createElement("h1",null,"Songs List")),e.songList?e.songList.map(function(a,t){return r.a.createElement(A,{fn:e.fn,key:t,song:a})}):"")},T=function(e){return r.a.createElement("div",null,r.a.createElement("h3",null,e.msg),r.a.createElement("div",{className:"header header1"},r.a.createElement("h1",null,"Enter your favourite artist/singer")),r.a.createElement("form",{onSubmit:e.search},r.a.createElement("input",{type:"text",id:"input",className:"form-control"}),r.a.createElement("button",{className:"btn btn-dark dark"},"Search"),r.a.createElement("div",{id:"clear"},e.songs&&e.songs.length>0?e.songs.map(function(a,t){return r.a.createElement(q,{song:a,key:t,add:function(a){e.add(a)}})}):"",e.songs?r.a.createElement("div",{className:"header header2"},r.a.createElement("h1",null,"Want to get more songs by your favourite artist/actor?",r.a.createElement("a",{href:e.songs[0].artistUrl,target:"_blank",className:"btn btn-dark"},"Click here"))):"")))},V={songs:[],fillSongs:function(e){var a=!0,t=!1,n=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done);a=!0){var l=r.value;this.songs.push(new S(l.artworkUrl100,l.trackName,l.trackViewUrl,l.previewUrl,l.artistViewUrl))}}catch(o){t=!0,n=o}finally{try{a||null==s.return||s.return()}finally{if(t)throw n}}return this.songs}},W=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).state={regMsg:"",loginMsg:"",isUser:!1,songsArray:"",songMsg:"",songsList:[],playlistSongs:[]},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){this.addSongsToList()}},{key:"onRegister",value:function(e){var a=this;e.preventDefault();var t=e.target.querySelector("#name").value,n=e.target.querySelector("#username").value,r=e.target.querySelector("#pwd").value;if(t&&n&&r){var s=new N(t,n,r);O(s).then(function(e){e?alert("Username is already taken."):(j(s),alert("Registered successfully"),a.setState(Object(d.a)({},a.state,{isUser:!0})))})}else alert("Please fill in all the fields.")}},{key:"onLogin",value:function(e){var a=this;e.preventDefault();var t=e.target.querySelector("#username").value,n=e.target.querySelector("#pwd").value,r=new k(t,n);U(r).then(function(e){e?e.password==n?(a.setState({loginMsg:"Logged in",isUser:!0}),localStorage.setItem("name",t),a.loadPlaylist()):alert("Invalid Password"):alert("Invalid username or password")})}},{key:"fillsongs",value:function(e){this.setState({songsArray:e})}},{key:"searchSong",value:function(e){e.preventDefault(),console.log(e.target),function(e,a){fetch("https://itunes.apple.com/search?term="+e+"&limit=24").then(function(e){e.json().then(function(e){var t=V.fillSongs(e.results);a(t)})})}(e.target.querySelector("#input").value,this.fillsongs.bind(this))}},{key:"addSong",value:function(e){var a=this;L().then(function(t){t&&(e.username=t.username),P(e),a.setState(Object(d.a)({},a.state,{songMsg:"Song Successfully added"}))})}},{key:"addSongsToList",value:function(){var e=this;M().then(function(a){for(var t in a)e.state.songsList.push(a[t]);e.setState(Object(d.a)({},e.state,{songsList:e.state.songsList}))})}},{key:"loadPlaylist",value:function(){var e=this,a=localStorage.getItem("name");C().then(function(t){for(var n in t)t[n].playlist==a&&e.state.playlistSongs.push(t[n]);e.setState(Object(d.a)({},e.state,{playlistSongs:e.state.playlistSongs}))})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(h,{isUser:this.state.isUser}),this.state.isUser?r.a.createElement(y,null):r.a.createElement(E.a,null,r.a.createElement(b.a,{exact:!0,path:"/",component:y}),r.a.createElement(b.a,{path:"/login",render:function(a){return r.a.createElement(p,{login:e.onLogin.bind(e),loginMsg:e.state.loginMsg})}}),r.a.createElement(b.a,{path:"/register",render:function(a){return r.a.createElement(f,{regMsg:e.state.regMsg,reg:e.onRegister.bind(e)})}})),r.a.createElement(E.a,null,r.a.createElement(b.a,{exact:!0,path:"/list",render:function(){return r.a.createElement(D,{songList:e.state.songsList,fn:e.loadPlaylist.bind(e)})}}),r.a.createElement(b.a,{path:"/addSong",render:function(){return r.a.createElement(T,{msg:e.state.songMsg,songs:e.state.songsArray,search:e.searchSong.bind(e),add:e.addSong.bind(e)})}}),r.a.createElement(b.a,{path:"/playlist",render:function(){return r.a.createElement(R,{playsong:!0,playlist:e.state.playlistSongs})}})))}}]),a}(n.Component),B=(t(54),t(57),t(59),function(e){function a(){return Object(o.a)(this,a),Object(c.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(W,null)}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var J=t(64);w.initializeApp({apiKey:"AIzaSyDrfIM6O1FdKnubH_Y9K6yAUsOXUJRjVdM",authDomain:"musicapp-ee2eb.firebaseapp.com",databaseURL:"https://musicapp-ee2eb.firebaseio.com",projectId:"musicapp-ee2eb",storageBucket:"musicapp-ee2eb.appspot.com",messagingSenderId:"409913595928"}),l.a.render(r.a.createElement(J.a,null,r.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[24,2,1]]]);
//# sourceMappingURL=main.c5112246.chunk.js.map